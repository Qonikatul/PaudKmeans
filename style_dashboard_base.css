/* ======================================================
   style_dashboard_base.css  â€” FINAL (stable, no-conflict)
   Requirements: 
     - <aside id="sidebar" class="sidebar">...</aside>
     - <div id="overlay" class="overlay"></div>
     - hamburger element with id="hamburger" (e.g. button)
     - put sidebar toggle script just before </body>
   ====================================================== */

/* VARIABLES */
:root{
  --bg: #eaf6ff;
  --primary: #1976D2;
  --text: #0f172a;
  --card: #ffffff;
  --muted: #64748b;
  --shadow: 0 10px 25px rgba(0,0,0,0.07);
  --sidebar-w: 260px; /* adjust here if you change sidebar width */
}

/* BASE RESET */
*{ box-sizing: border-box; }
html,body{ height:100%; margin:0; padding:0; font-family:'Poppins', system-ui, Roboto, "Segoe UI"; background:var(--bg); overflow-x:hidden; }

/* APP WRAPPER
   NOTE: sidebar is fixed; do NOT use grid-template-columns that assume non-fixed sidebar */
.app{
  display:block;
  min-height:100vh;
  width:100%;
  transition: all .25s ease;
}

/* SIDEBAR (fixed, desktop + mobile slide) */
.sidebar{
  position: fixed;
  top: 0;
  left: 0;
  width: var(--sidebar-w);
  height: 100vh;
  background: var(--card);
  padding: 20px;
  box-shadow: 2px 0 10px rgba(0,0,0,0.05);
  overflow-y: auto;
  transition: left .25s ease;
  z-index: 10000; /* must be above overlay */
}

/* brand */
.brand{ display:flex; gap:12px; align-items:center; margin-bottom:22px; }
.brand img{ width:48px; height:48px; border-radius:10px; object-fit:cover; }
.brand .title{ font-size:18px; font-weight:700; color:var(--primary); }

/* menu */
.menu{ display:flex; flex-direction:column; gap:6px; }
.menu a{
  display:flex; align-items:center; gap:10px;
  padding:10px 12px; border-radius:10px;
  text-decoration:none; color:var(--text); font-weight:600;
  transition: background .18s, color .18s;
}
.menu a:hover{ background:#e3f2ff; color:var(--primary); }
.menu a.active{ background:#e0ecff; color:var(--primary); }

/* MAIN CONTENT
   .main should sit to the right of fixed sidebar on desktop */
.main{
  padding:24px;
  margin-left: var(--sidebar-w); /* desktop default: leave room for fixed sidebar */
  width: calc(100% - var(--sidebar-w));
  transition: margin-left .25s ease, width .25s ease;
}

/* topbar */
.topbar{ display:flex; justify-content:space-between; align-items:center; margin-bottom:18px; }

/* controls */
.hamburger{
  display:none; /* visible on small screens */
  width:46px; height:46px; border-radius:10px; background:white;
  border:0; box-shadow:var(--shadow); align-items:center; justify-content:center;
  cursor:pointer;
}

/* search / avatar */
.search{ display:flex; align-items:center; gap:10px; padding:8px 14px; border-radius:12px; background:white; box-shadow:var(--shadow); }
.search input{ border:0; outline:0; font-size:14px; }
.avatar{ width:42px; height:42px; border-radius:10px; object-fit:cover; }

/* grid / card / table */
.grid{ display:grid; grid-template-columns:repeat(3,1fr); gap:18px; }
.card{ background:var(--card); border-radius:14px; padding:18px; box-shadow:var(--shadow); }
.card h3{ margin:0 0 8px; color:var(--primary); }
.card p{ margin:0; color:var(--muted); }

.table{ width:100%; border-collapse:collapse; }
.table th{ background:#e0ecff; color:var(--primary); padding:10px; font-weight:600; }
.table td{ padding:10px; border-bottom:1px solid #e6eef9; }

/* buttons */
.btn{ padding:8px 16px; border-radius:8px; font-weight:600; border:none; cursor:pointer; }
.btn-primary{ background:var(--primary); color:#fff; }
.btn-danger{ background:#ef4444; color:#fff; }

/* OVERLAY (for mobile only) */
.overlay{
  position:fixed;
  inset:0;
  background: rgba(0,0,0,0.45);
  opacity:0;
  pointer-events:none;
  transition: opacity .25s ease;
  z-index: 9000; /* BELOW sidebar */
}
.overlay.show{ opacity:1; pointer-events:auto; }

/* SMALL SCREENS (mobile) */
@media (max-width: 900px){
  /* make sidebar hidden by shifting left */
  .sidebar{ left: calc(-1 * var(--sidebar-w)); } /* fully hidden */
  .sidebar.open{ left: 0; } /* opens on .open */

  /* show hamburger */
  .hamburger{ display:flex; }

  /* main occupies full width */
  .main{ margin-left:0 !important; width:100% !important; padding:18px; }

  /* grid collapse */
  .grid{ grid-template-columns: 1fr; }

  /* hide search if desired */
  .search{ display:none; }
}

/* DESKTOP (ensure fixed sidebar and main margin) */
@media (min-width: 901px){
  .sidebar{ left:0; } /* ensure visible */
  .main{ margin-left: var(--sidebar-w); width: calc(100% - var(--sidebar-w)); }
}

/* small visual niceties */
.menu a{ white-space:nowrap; }
.sidebar::-webkit-scrollbar{ width:8px; }
.sidebar::-webkit-scrollbar-thumb{ background:rgba(0,0,0,0.08); border-radius:8px; }

/* Safety: prevent unexpected overriding by page-specific style */
.main, .sidebar, .overlay { -webkit-transform: translateZ(0); }
